-- Roblox Account Info Display
-- Hi·ªÉn th·ªã th√¥ng tin t√†i kho·∫£n ·ªü g√≥c ph·∫£i m√†n h√¨nh

if not game:IsLoaded() then
    game.Loaded:Wait()
end

if not game.Players.LocalPlayer then
    game.Players:GetPropertyChangedSignal("LocalPlayer"):Wait()
end

local player = game.Players.LocalPlayer
local userId = player.UserId

-- T·∫°o ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "AccountInfoGUI"
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
screenGui.Parent = player:WaitForChild("PlayerGui")

-- T·∫°o Frame ch√≠nh
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
mainFrame.BackgroundTransparency = 0.3
mainFrame.BorderSizePixel = 0
mainFrame.Position = UDim2.new(1, -10, 0, 10) -- G√≥c ph·∫£i tr√™n
mainFrame.Size = UDim2.new(0, 250, 0, 180)
mainFrame.AnchorPoint = Vector2.new(1, 0)
mainFrame.Parent = screenGui

-- Th√™m bo g√≥c
local uiCorner = Instance.new("UICorner")
uiCorner.CornerRadius = UDim.new(0, 8)
uiCorner.Parent = mainFrame

-- Th√™m shadow
local uiStroke = Instance.new("UIStroke")
uiStroke.Color = Color3.fromRGB(60, 60, 80)
uiStroke.Thickness = 2
uiStroke.Parent = mainFrame

-- Ti√™u ƒë·ªÅ
local titleLabel = Instance.new("TextLabel")
titleLabel.Name = "Title"
titleLabel.Text = "üìä TH√îNG TIN T√ÄI KHO·∫¢N"
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.TextSize = 16
titleLabel.Font = Enum.Font.GothamBold
titleLabel.BackgroundTransparency = 1
titleLabel.Position = UDim2.new(0, 15, 0, 10)
titleLabel.Size = UDim2.new(1, -30, 0, 25)
titleLabel.Parent = mainFrame

-- ƒê∆∞·ªùng k·∫ª ph√¢n c√°ch
local divider = Instance.new("Frame")
divider.Name = "Divider"
divider.BackgroundColor3 = Color3.fromRGB(80, 120, 200)
divider.BorderSizePixel = 0
divider.Position = UDim2.new(0, 15, 0, 40)
divider.Size = UDim2.new(1, -30, 0, 2)
divider.Parent = mainFrame

-- Container cho th√¥ng tin
local infoContainer = Instance.new("Frame")
infoContainer.Name = "InfoContainer"
infoContainer.BackgroundTransparency = 1
infoContainer.Position = UDim2.new(0, 15, 0, 50)
infoContainer.Size = UDim2.new(1, -30, 1, -60)
infoContainer.Parent = mainFrame

local layout = Instance.new("UIListLayout")
layout.Padding = UDim.new(0, 5)
layout.HorizontalAlignment = Enum.HorizontalAlignment.Left
layout.VerticalAlignment = Enum.VerticalAlignment.Top
layout.Parent = infoContainer

-- H√†m t·∫°o d√≤ng th√¥ng tin
local function createInfoRow(text, icon, value)
    local row = Instance.new("Frame")
    row.Name = "Row"
    row.BackgroundTransparency = 1
    row.Size = UDim2.new(1, 0, 0, 20)
    
    local iconLabel = Instance.new("TextLabel")
    iconLabel.Name = "Icon"
    iconLabel.Text = icon
    iconLabel.TextColor3 = Color3.fromRGB(80, 180, 255)
    iconLabel.TextSize = 14
    iconLabel.Font = Enum.Font.Gotham
    iconLabel.BackgroundTransparency = 1
    iconLabel.Size = UDim2.new(0, 20, 1, 0)
    iconLabel.Parent = row
    
    local textLabel = Instance.new("TextLabel")
    textLabel.Name = "Text"
    textLabel.Text = text
    textLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    textLabel.TextSize = 14
    textLabel.Font = Enum.Font.Gotham
    textLabel.TextXAlignment = Enum.TextXAlignment.Left
    textLabel.BackgroundTransparency = 1
    textLabel.Position = UDim2.new(0, 25, 0, 0)
    textLabel.Size = UDim2.new(0, 100, 1, 0)
    textLabel.Parent = row
    
    local valueLabel = Instance.new("TextLabel")
    valueLabel.Name = "Value"
    valueLabel.Text = value
    valueLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    valueLabel.TextSize = 14
    valueLabel.Font = Enum.Font.GothamBold
    valueLabel.TextXAlignment = Enum.TextXAlignment.Right
    valueLabel.BackgroundTransparency = 1
    valueLabel.Position = UDim2.new(0, 130, 0, 0)
    valueLabel.Size = UDim2.new(1, -130, 1, 0)
    valueLabel.Parent = row
    
    return row
end

-- Bi·∫øn to√†n c·ª•c ƒë·ªÉ l∆∞u th√¥ng tin
local accountAgeDays = 0
local playTimeHours = 0
local displayName = player.DisplayName
local username = player.Name

-- L·∫•y th√¥ng tin t√†i kho·∫£n t·ª´ Roblox API
local function fetchAccountInfo()
    local success, result = pcall(function()
        -- L·∫•y th√¥ng tin ng√†y t·∫°o t√†i kho·∫£n
        local ageUrl = "https://users.roblox.com/v1/users/" .. userId
        local ageResponse = game:HttpGet(ageUrl)
        local ageData = game:GetService("HttpService"):JSONDecode(ageResponse)
        
        -- T√≠nh s·ªë ng√†y t·ª´ khi t·∫°o
        local createdDate = DateTime.fromIsoDate(ageData.created):ToUnixTimestamp()
        local currentDate = os.time()
        local daysSinceCreation = math.floor((currentDate - createdDate) / 86400)
        
        -- L·∫•y display name
        displayName = ageData.displayName
        
        return {
            accountAge = daysSinceCreation,
            displayName = displayName,
            username = ageData.name
        }
    end)
    
    if success then
        return result
    else
        return {
            accountAge = 0,
            displayName = displayName,
            username = username
        }
    end
end

-- T√≠nh th·ªùi gian ch∆°i
local function calculatePlayTime()
    local startTime = tick()
    
    -- ∆Ø·ªõc t√≠nh th·ªùi gian ch∆°i d·ª±a tr√™n session
    while task.wait(60) do -- C·∫≠p nh·∫≠t m·ªói ph√∫t
        playTimeHours = math.floor((tick() - startTime) / 3600 * 10) / 10
        
        -- C·∫≠p nh·∫≠t UI
        if screenGui and screenGui.Parent then
            local valueLabel = screenGui.MainFrame.InfoContainer:FindFirstChild("PlayTimeValue")
            if valueLabel then
                valueLabel.Text = playTimeHours .. "h"
            end
        end
    end
end

-- Kh·ªüi t·∫°o UI
local function initializeUI()
    -- X√≥a c√°c d√≤ng c≈© n·∫øu c√≥
    for _, child in ipairs(infoContainer:GetChildren()) do
        if child:IsA("Frame") then
            child:Destroy()
        end
    end
    
    -- L·∫•y th√¥ng tin t√†i kho·∫£n
    local accountInfo = fetchAccountInfo()
    accountAgeDays = accountInfo.accountAge
    
    -- T·∫°o c√°c d√≤ng th√¥ng tin
    local rows = {
        {text = "Bi·ªát danh:", icon = "üë§", value = accountInfo.displayName},
        {text = "T√™n TK:", icon = "üîë", value = accountInfo.username},
        {text = "User ID:", icon = "üÜî", value = tostring(userId)},
        {text = "Ng√†y t·∫°o:", icon = "üìÖ", value = accountAgeDays .. " ng√†y"},
        {text = "Th·ªùi gian ch∆°i:", icon = "‚è±Ô∏è", value = playTimeHours .. "h"}
    }
    
    for _, rowData in ipairs(rows) do
        local row = createInfoRow(rowData.text, rowData.icon, rowData.value)
        row.Parent = infoContainer
        
        -- ƒê·∫∑t t√™n cho value label ƒë·ªÉ c√≥ th·ªÉ c·∫≠p nh·∫≠t sau
        if rowData.text == "Th·ªùi gian ch∆°i:" then
            row.Value.Name = "PlayTimeValue"
        end
    end
end

-- N√∫t ƒë√≥ng
local closeButton = Instance.new("TextButton")
closeButton.Name = "CloseButton"
closeButton.Text = "‚úï"
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.TextSize = 14
closeButton.Font = Enum.Font.GothamBold
closeButton.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
closeButton.BorderSizePixel = 0
closeButton.Position = UDim2.new(1, -25, 0, 5)
closeButton.Size = UDim2.new(0, 20, 0, 20)
closeButton.AnchorPoint = Vector2.new(1, 0)
closeButton.Parent = mainFrame

local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(0, 10)
closeCorner.Parent = closeButton

closeButton.MouseButton1Click:Connect(function()
    screenGui:Destroy()
end)

-- N√∫t ·∫©n/hi·ªán
local toggleButton = Instance.new("TextButton")
toggleButton.Name = "ToggleButton"
toggleButton.Text = "‚ñº"
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.TextSize = 12
toggleButton.Font = Enum.Font.GothamBold
toggleButton.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
toggleButton.BorderSizePixel = 0
toggleButton.Position = UDim2.new(0, -25, 0, 10)
toggleButton.Size = UDim2.new(0, 20, 0, 20)
toggleButton.Parent = mainFrame

local toggleCorner = Instance.new("UICorner")
toggleCorner.CornerRadius = UDim.new(0, 5)
toggleCorner.Parent = toggleButton

local isMinimized = false
toggleButton.MouseButton1Click:Connect(function()
    if isMinimized then
        mainFrame.Size = UDim2.new(0, 250, 0, 180)
        toggleButton.Text = "‚ñº"
        infoContainer.Visible = true
        divider.Visible = true
        titleLabel.Visible = true
    else
        mainFrame.Size = UDim2.new(0, 40, 0, 40)
        toggleButton.Text = "‚ñ≤"
        infoContainer.Visible = false
        divider.Visible = false
        titleLabel.Visible = false
    end
    isMinimized = not isMinimized
end)

-- Kh·ªüi t·∫°o UI
initializeUI()

-- B·∫Øt ƒë·∫ßu t√≠nh th·ªùi gian ch∆°i
spawn(calculatePlayTime)

-- C·∫≠p nh·∫≠t th√¥ng tin m·ªói 5 ph√∫t
while task.wait(300) do
    if screenGui and screenGui.Parent then
        initializeUI()
    else
        break
    end
end

print("[Account Info] ƒê√£ t·∫£i th√†nh c√¥ng! Th√¥ng tin hi·ªÉn th·ªã ·ªü g√≥c ph·∫£i tr√™n m√†n h√¨nh.")