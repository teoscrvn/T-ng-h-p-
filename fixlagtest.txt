-- üèÆ Fix Lag Menu cho 99 ƒê√™m
local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
repeat wait() until game:IsLoaded()

-- ü™ü T·∫°o Window
local Window = Fluent:CreateWindow({
    Title = "Fix Lag 99 ƒê√™m üåô",
    SubTitle = "Ch·ªçn c·∫•p ho·∫∑c t·ª± ch·ªânh",
    TabWidth = 160,
    Size = UDim2.fromOffset(460, 320),
    Acrylic = false,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.End
})

-- Tabs
local Tabs = {
    Auto = Window:AddTab({ Title = "‚ö° Fix nhanh" }),
    Custom = Window:AddTab({ Title = "‚öôÔ∏è Tu·ª≥ ch·ªânh" }),
}

-- ‚ö° C√ÅC M·ª®C AUTO FIX
Tabs.Auto:AddButton({
    Title = "Fix Lag V1 (Nh·∫π)",
    Callback = function()
        settings().Rendering.QualityLevel = Enum.QualityLevel.Level10
        game.Lighting.GlobalShadows = false
        game.Lighting.FogEnd = 200
        for _,v in pairs(workspace:GetDescendants()) do
            if v:IsA("ParticleEmitter") or v:IsA("Trail") then v.Enabled = false end
        end
    end
})

Tabs.Auto:AddButton({
    Title = "Fix Lag V2 (Trung)",
    Callback = function()
        settings().Rendering.QualityLevel = Enum.QualityLevel.Level5
        game.Lighting.GlobalShadows = false
        game.Lighting.FogEnd = 100
        for _,v in pairs(workspace:GetDescendants()) do
            if v:IsA("ParticleEmitter") or v:IsA("Trail") or v:IsA("Beam") then v.Enabled = false end
        end
        -- ·∫®n l√° c√¢y
        for _,v in pairs(workspace:GetDescendants()) do
            if v:IsA("MeshPart") and string.find(v.Name:lower(),"leaf") then
                v.Transparency = 1
            end
        end
    end
})

Tabs.Auto:AddButton({
    Title = "Fix Lag V3 (M·∫°nh)",
    Callback = function()
        settings().Rendering.QualityLevel = Enum.QualityLevel.Level1
        game.Lighting.GlobalShadows = false
        game.Lighting.FogEnd = 50
        for _,v in pairs(workspace:GetDescendants()) do
            if v:IsA("ParticleEmitter") or v:IsA("Trail") or v:IsA("Beam") then v.Enabled = false end
        end
        -- ·∫®n to√†n b·ªô c√¢y
        for _,v in pairs(workspace:GetDescendants()) do
            if v:IsA("MeshPart") and (string.find(v.Name:lower(),"tree") or string.find(v.Name:lower(),"leaf")) then
                v.Transparency = 1
            end
        end
        -- ·∫®n th·ªãt r∆°i
        for _,v in pairs(workspace:GetDescendants()) do
            if v:IsA("MeshPart") and string.find(v.Name:lower(),"meat") then
                v.Transparency = 1
            end
        end
    end
})

Tabs.Auto:AddButton({
    Title = "SI√äU FIX (T·ªëi ƒëa)",
    Callback = function()
        settings().Rendering.QualityLevel = Enum.QualityLevel.Automatic
        game.Lighting.GlobalShadows = false
        game.Lighting.FogEnd = 20
        workspace.DescendantAdded:Connect(function(v)
            if v:IsA("ParticleEmitter") or v:IsA("Trail") or v:IsA("Beam") then v.Enabled = false end
        end)
        -- ·∫®n t·∫•t c·∫£ c√¢y + th·ªãt
        for _,v in pairs(workspace:GetDescendants()) do
            if v:IsA("MeshPart") then v.Transparency = 1 end
        end
    end
})

-- ‚öôÔ∏è Tu·ª≥ ch·ªânh ri√™ng
Tabs.Custom:AddToggle("HideMeat", {Title = "·∫®n th·ªãt r∆°i", Default = false }):OnChanged(function(state)
    for _,v in pairs(workspace:GetDescendants()) do
        if v:IsA("MeshPart") and string.find(v.Name:lower(),"meat") then
            v.Transparency = state and 1 or 0
        end
    end
end)

Tabs.Custom:AddToggle("HideTree", {Title = "·∫®n c√¢y", Default = false }):OnChanged(function(state)
    for _,v in pairs(workspace:GetDescendants()) do
        if v:IsA("MeshPart") and (string.find(v.Name:lower(),"tree") or string.find(v.Name:lower(),"leaf")) then
            v.Transparency = state and 1 or 0
        end
    end
end)

Tabs.Custom:AddToggle("NoParticles", {Title = "T·∫Øt hi·ªáu ·ª©ng (particles/trail)", Default = false }):OnChanged(function(state)
    for _,v in pairs(workspace:GetDescendants()) do
        if v:IsA("ParticleEmitter") or v:IsA("Trail") or v:IsA("Beam") then
            v.Enabled = not state
        end
    end
end)

Tabs.Custom:AddToggle("NoShadow", {Title = "T·∫Øt b√≥ng", Default = false }):OnChanged(function(state)
    game.Lighting.GlobalShadows = not state
end)