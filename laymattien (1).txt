-- üîë H·ªÜ TH·ªêNG KEY 24H ‚Äì NH·∫¨P 1 L·∫¶N, 24H KH√îNG H·ªéI L·∫†I
--============================================================

-- KHAI B√ÅO SCRIPT CH√çNH TR∆Ø·ªöC
local SCRIPT_CHINH = [[
    -- D√ÅN SCRIPT CH√çNH C·ª¶A B·∫†N ·ªû ƒê√ÇY
    print("üî• Script ch√≠nh ƒëang ch·∫°y...")
    
    -- V√≠ d·ª• script ch√≠nh (thay b·∫±ng script c·ªßa b·∫°n)
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ScpGuest666/Random-Roblox-script/refs/heads/main/--============================================================
-- üîë H·ªÜ TH·ªêNG KEY 24H ‚Äì NH·∫¨P 1 L·∫¶N, 24H KH√îNG H·ªéI L·∫†I
--============================================================

-- KHAI B√ÅO SCRIPT CH√çNH TR∆Ø·ªöC
local SCRIPT_CHINH = [[
    -- D√ÅN SCRIPT CH√çNH C·ª¶A B·∫†N ·ªû ƒê√ÇY
    print("üî• Script ch√≠nh ƒëang ch·∫°y...")
    
    -- V√≠ d·ª• script ch√≠nh (thay b·∫±ng script c·ªßa b·∫°n)
    loadstring(game:HttpGet("https://raw.githubusercontent.com/teoscrvn/T-ng-h-p-/refs/heads/main/laymattien.txt", true))()
]]

local allowedKeys = {"KEY1", "KEY2", "metvl>:("}   -- 2 key h·ª£p l·ªá
local saveFile = "key_24h.txt"         -- file l∆∞u th·ªùi gian

local function now()
    return os.time()
end

-- L∆∞u 24 gi·ªù
local function saveKey()
    writefile(saveFile, tostring(now() + 24*3600))
end

-- Ki·ªÉm tra file key (ƒê√É S·ª¨A: >= thay v√¨ >)
local function isKeyStillValid()
    if not isfile(saveFile) then
        return false
    end

    local t = tonumber(readfile(saveFile))
    return t and t >= now()  -- S·ª¨A: >= ƒë·ªÉ bao g·ªìm th·ªùi ƒëi·ªÉm ch√≠nh x√°c 24h
end

--============================================================
-- üü¢ N·∫æU ƒêANG TRONG 24H ‚Üí CH·∫†Y SCRIPT CH√çNH LI·ªÄN
--============================================================

if isKeyStillValid() then
    print("‚úî Key c√≤n h·∫°n ‚Üí ch·∫°y script ch√≠nh lu√¥n")
    loadstring(SCRIPT_CHINH)()
    return
end

--============================================================
-- üñ• UI NH·∫¨P KEY
--============================================================

local gui = Instance.new("ScreenGui", game.CoreGui)
local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 300, 0, 180)
frame.Position = UDim2.new(0.5, -150, 0.5, -90)
frame.BackgroundColor3 = Color3.fromRGB(35,35,35)

local box = Instance.new("TextBox", frame)
box.PlaceholderText = "Nh·∫≠p key..."
box.Size = UDim2.new(1, -40, 0, 40)
box.Position = UDim2.new(0, 20, 0, 40)
box.BackgroundColor3 = Color3.fromRGB(50,50,50)
box.TextColor3 = Color3.new(1,1,1)

local check = Instance.new("TextButton", frame)
check.Text = "X√°c nh·∫≠n"
check.Size = UDim2.new(1, -40, 0, 40)
check.Position = UDim2.new(0, 20, 0, 100)
check.BackgroundColor3 = Color3.fromRGB(0,180,80)
check.TextColor3 = Color3.new(1,1,1)

--============================================================
-- üîç CHECK KEY
--============================================================

local function isValid(k)
    for _, v in ipairs(allowedKeys) do
        if k == v then
            return true
        end
    end
    return false
end

check.MouseButton1Click:Connect(function()
    if isValid(box.Text) then
        saveKey()
        gui:Destroy()

        game.StarterGui:SetCore("SendNotification", {
            Title = "‚úî ƒê√∫ng Key",
            Text = "H·ª£p l·ªá trong 24 gi·ªù",
            Duration = 3
        })

        loadstring(SCRIPT_CHINH)()
    else
        game.StarterGui:SetCore("SendNotification", {
            Title = "‚ùå Sai Key",
            Text = "Key kh√¥ng ƒë√∫ng",
            Duration = 3
        })
    end
end)
]]

local allowedKeys = {"KEY1", "KEY2"}   -- 2 key h·ª£p l·ªá
local saveFile = "key_24h.txt"         -- file l∆∞u th·ªùi gian

local function now()
    return os.time()
end

-- L∆∞u 24 gi·ªù
local function saveKey()
    writefile(saveFile, tostring(now() + 24*3600))
end

-- Ki·ªÉm tra file key (ƒê√É S·ª¨A: >= thay v√¨ >)
local function isKeyStillValid()
    if not isfile(saveFile) then
        return false
    end

    local t = tonumber(readfile(saveFile))
    return t and t >= now()  -- S·ª¨A: >= ƒë·ªÉ bao g·ªìm th·ªùi ƒëi·ªÉm ch√≠nh x√°c 24h
end

--============================================================
-- üü¢ N·∫æU ƒêANG TRONG 24H ‚Üí CH·∫†Y SCRIPT CH√çNH LI·ªÄN
--============================================================

if isKeyStillValid() then
    print("‚úî Key c√≤n h·∫°n ‚Üí ch·∫°y script ch√≠nh lu√¥n")
    loadstring(SCRIPT_CHINH)()
    return
end

--============================================================
-- üñ• UI NH·∫¨P KEY
--============================================================

local gui = Instance.new("ScreenGui", game.CoreGui)
local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 300, 0, 180)
frame.Position = UDim2.new(0.5, -150, 0.5, -90)
frame.BackgroundColor3 = Color3.fromRGB(35,35,35)

local box = Instance.new("TextBox", frame)
box.PlaceholderText = "Nh·∫≠p key..."
box.Size = UDim2.new(1, -40, 0, 40)
box.Position = UDim2.new(0, 20, 0, 40)
box.BackgroundColor3 = Color3.fromRGB(50,50,50)
box.TextColor3 = Color3.new(1,1,1)

local check = Instance.new("TextButton", frame)
check.Text = "X√°c nh·∫≠n"
check.Size = UDim2.new(1, -40, 0, 40)
check.Position = UDim2.new(0, 20, 0, 100)
check.BackgroundColor3 = Color3.fromRGB(0,180,80)
check.TextColor3 = Color3.new(1,1,1)

--============================================================
-- üîç CHECK KEY
--============================================================

local function isValid(k)
    for _, v in ipairs(allowedKeys) do
        if k == v then
            return true
        end
    end
    return false
end

check.MouseButton1Click:Connect(function()
    if isValid(box.Text) then
        saveKey()
        gui:Destroy()

        game.StarterGui:SetCore("SendNotification", {
            Title = "‚úî ƒê√∫ng Key",
            Text = "H·ª£p l·ªá trong 24 gi·ªù",
            Duration = 3
        })

        loadstring(SCRIPT_CHINH)()
    else
        game.StarterGui:SetCore("SendNotification", {
            Title = "‚ùå Sai Key",
            Text = "Key kh√¥ng ƒë√∫ng",
            Duration = 3
        })
    end
end)